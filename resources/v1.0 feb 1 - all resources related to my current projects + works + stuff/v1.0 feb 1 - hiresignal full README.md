# HireSignal ‚Äì Cross-Border EU Job Funnel

> Fast-access behavioral relocation protocol for EU blue-collar workers seeking placement abroad with housing included.

## üéØ Project Overview

### Purpose & Mission
HireSignal is a production-ready, mobile-first web application designed to efficiently match Portuguese and EU blue-collar workers with job opportunities in Netherlands, Germany, and Belgium. The platform focuses on warehouse, production, logistics, and agricultural positions with housing included, operating as a lead generation and matching system rather than a traditional recruitment agency.

**Core Mission**: Bridge the gap between EU workers seeking better opportunities abroad and verified employers needing reliable, legally authorized workers with housing support.

**Operated by:** Xolo Go O√ú ‚Äì Van Vo  
**Registry code:** 14717109  
**EU VAT:** EE102156920  
**Registered address:** Paju tn 1a, 50603 Tartu, Estonia  
**Contact:** jobs@hiresignal.eu

### Target Audience
- **Primary**: EU citizens aged 18-55 seeking blue-collar work abroad
- **Secondary**: EU residence card holders with valid work authorization (Netherlands-issued only)
- **Geographic Focus**: Portugal, Spain, Eastern Europe (Poland, Romania, Bulgaria)
- **Job Categories**: Warehouse, logistics, production, agricultural, technical, driving roles
- **Special Focus**: Couples applications with priority placement

### Key Features

#### Core Functionality
- **Mobile-First Form Wizard**: Enhanced UX with strict input validation and real-time feedback
- **6-Step Progressive Form**: EU Qualification ‚Üí Contact ‚Üí Personal (3 sub-steps) ‚Üí Experience ‚Üí Optional ‚Üí Consent
- **EU Eligibility Pre-Screening**: Smart qualification system before form entry with helpful rejection screen
- **Behavioral Filtering**: Intelligent intake system that qualifies leads by readiness and citizenship
- **Friction-Free Uploads**: Optional CV and document uploads without blocking progression
- **Multi-Channel Contact**: WhatsApp-first approach with email fallback
- **Real-Time Matching**: Automated candidate-job matching based on skills and availability
- **Housing Integration**: All opportunities include accommodation arrangements

#### Technical Features
- **Debug Mode**: Comprehensive debugging tools for development and troubleshooting
- **Database Monitoring**: Real-time database status and candidate tracking
- **Cookie Consent**: GDPR-compliant cookie management with both Privacy Policy and Terms links
- **File Upload System**: Secure file handling for CVs and profile photos with accurate size display
- **Make.com Integration**: Automated webhook system for Airtable synchronization
- **Edge Function Processing**: Smart data filtering and transformation via Supabase Edge Functions
- **Enhanced Input Validation**: Strict phone number validation (7-15 digits), real-time character filtering
- **Structured Job Cards**: Rich, categorized job information display with intelligent data parsing

#### User Experience Features
- **Priority Job Guidance**: Shows most in-demand job types to candidates
- **WhatsApp-First Contact**: Primary contact method for better engagement rates
- **Travel Payout Integration**: Affiliate tracking for travel-related monetization
- **Simplified CTA Design**: Clean, mobile-optimized call-to-action following KISS principles
- **Couples Priority**: Linked candidate applications with priority placement messaging
- **Travel Funds Guidance**: Detailed cost breakdown for relocation preparation
- **Motivation Testing**: Self-assessment for physical job requirements
- **Country Code Selector**: Comprehensive dialing code selection with manual entry option
- **Sub-Step Navigation**: Complex forms broken into focused sub-steps for better completion rates

## üõ†Ô∏è Tech Stack

### Frontend Technologies
- **Framework**: React 18.3.1 with TypeScript 5.5.3
- **Build Tool**: Vite 5.4.2 with hot module replacement and optimized bundling
- **Routing**: React Router DOM 7.8.0 for client-side navigation
- **Styling**: Tailwind CSS 3.4.1 (utility-first, mobile-optimized)
- **Icons**: Lucide React 0.344.0 for consistent iconography
- **Font**: Inter (Google Fonts) with 3 weight variations maximum

### Backend & Database
- **Backend**: Supabase (PostgreSQL + Auth + Storage + Edge Functions)
- **Database**: PostgreSQL with Row Level Security (RLS)
- **File Storage**: Supabase Storage for CV and photo uploads
- **Edge Functions**: Deno-based serverless functions for webhook processing
- **Authentication**: Supabase Auth (email/password, no magic links)

### Development & Build Tools
- **Type Safety**: TypeScript strict mode with comprehensive type definitions
- **Linting**: ESLint 9.9.1 with React hooks and refresh plugins
- **Code Formatting**: Prettier integration via ESLint
- **CSS Processing**: PostCSS with Autoprefixer for vendor prefixes
- **Package Manager**: npm with lock file for dependency consistency

### Deployment & Infrastructure
- **Hosting**: Netlify with custom domain (`hiresignal.eu`)
- **CDN**: Netlify Edge Network for global performance
- **SSL**: Auto-generated and renewed certificates
- **Domain Management**: Custom domain with automatic redirects

### Analytics & Monitoring
- **Analytics**: Google Analytics 4 (G-0Z03WFVZRV) with GDPR compliance
- **Performance**: Netlify Analytics for deployment and performance data
- **Database Monitoring**: Supabase built-in analytics and logging
- **Customer Support**: Crisp Chat integration with mobile positioning
- **Affiliate Tracking**: Travel Payout integration for monetization

### External Integrations
- **Automation**: Make.com webhooks for Airtable integration via Supabase Edge Functions
- **Email**: EmailOctopus via Amazon SES for job alerts (planned)
- **Communication**: WhatsApp Business API integration (planned)
- **Payment Processing**: Stripe integration (planned for premium features)

## üìÅ Project Structure

```
hiresignal-intake-espt/
‚îú‚îÄ‚îÄ README.md                           # This comprehensive documentation
‚îú‚îÄ‚îÄ package.json                        # Dependencies and scripts
‚îú‚îÄ‚îÄ package-lock.json                   # Dependency lock file
‚îú‚îÄ‚îÄ .env.example                        # Environment variables template
‚îú‚îÄ‚îÄ .env                                # Environment variables (gitignored)
‚îú‚îÄ‚îÄ .gitignore                          # Git ignore rules
‚îú‚îÄ‚îÄ netlify.toml                        # Netlify deployment configuration
‚îú‚îÄ‚îÄ vite.config.ts                      # Vite build configuration
‚îú‚îÄ‚îÄ tsconfig.json                       # TypeScript configuration root
‚îú‚îÄ‚îÄ tsconfig.app.json                   # TypeScript app configuration
‚îú‚îÄ‚îÄ tsconfig.node.json                  # TypeScript Node.js configuration
‚îú‚îÄ‚îÄ tailwind.config.js                  # Tailwind CSS configuration
‚îú‚îÄ‚îÄ postcss.config.js                   # PostCSS configuration
‚îú‚îÄ‚îÄ eslint.config.js                    # ESLint configuration
‚îú‚îÄ‚îÄ index.html                          # HTML entry point with meta tags and scripts
‚îÇ
‚îú‚îÄ‚îÄ public/                             # Static assets
‚îÇ   ‚îú‚îÄ‚îÄ robots.txt                      # SEO crawler instructions
‚îÇ   ‚îú‚îÄ‚îÄ sitemap.xml                     # XML sitemap for search engines
‚îÇ   ‚îú‚îÄ‚îÄ site.webmanifest               # PWA manifest
‚îÇ   ‚îú‚îÄ‚îÄ favicon.svg                     # Site favicon (SVG)
‚îÇ   ‚îú‚îÄ‚îÄ favicon-16x16.png              # Favicon 16x16
‚îÇ   ‚îú‚îÄ‚îÄ favicon-32x32.png              # Favicon 32x32
‚îÇ   ‚îú‚îÄ‚îÄ apple-touch-icon.png           # iOS home screen icon
‚îÇ   ‚îú‚îÄ‚îÄ android-chrome-192x192.png     # Android icon 192x192
‚îÇ   ‚îî‚îÄ‚îÄ android-chrome-512x512.png     # Android icon 512x512
‚îÇ
‚îú‚îÄ‚îÄ src/                                # Source code
‚îÇ   ‚îú‚îÄ‚îÄ main.tsx                        # React application entry point
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx                         # Root component with routing and error boundary
‚îÇ   ‚îú‚îÄ‚îÄ index.css                       # Global styles with Crisp Chat positioning
‚îÇ   ‚îú‚îÄ‚îÄ config.ts                       # Application configuration and constants
‚îÇ   ‚îú‚îÄ‚îÄ vite-env.d.ts                   # Vite environment type definitions
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/                     # Reusable UI components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormInput.tsx               # Text input with validation and number-only support
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormSelect.tsx              # Dropdown select component with styling
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormCheckbox.tsx            # Checkbox with custom styling and descriptions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FileUpload.tsx              # Drag-and-drop file upload with accurate size display
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ JobCategorySelector.tsx     # Multi-select job categories with priority guidance
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RadioGroup.tsx              # Radio button group with hover effects
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormProgress.tsx            # Step progress indicator with sub-step support
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Step0Qualification.tsx      # EU eligibility pre-screening with helpful rejection
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Step1ContactInfo.tsx        # Contact information form (WhatsApp focused)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Step2aPersonalBasics.tsx    # Personal basics (sub-step 2.1)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Step2bSkillsReadiness.tsx   # Skills & readiness (sub-step 2.2)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Step2cPartnerEmail.tsx      # Partner email (sub-step 2.3)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Step3WorkExperience.tsx     # Work experience form with priority jobs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Step4AdditionalInfo.tsx     # Optional information form with file uploads
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Step5ConsentFinalization.tsx # Consent and preferences (simplified)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SuccessScreen.tsx           # Completion confirmation with sharing
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DebugPanel.tsx              # Development debugging tools
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DatabaseDebugger.tsx        # Database monitoring panel
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CookieConsent.tsx           # GDPR cookie consent banner with Privacy & Terms links
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Footer.tsx                  # Site footer component with navigation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LanguageSwitcher.tsx        # Contact information display (legacy name)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ JobCardImage.tsx            # Job card image component with fallbacks
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PlacementPartnerCard.tsx    # Partner disclosure component (future use)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ pages/                          # Main page components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LandingPage.tsx             # Marketing landing page with live stats and simplified CTA
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FormWizard.tsx              # Main form orchestrator with step management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ JobsListPage.tsx            # Job opportunities listing page
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ JobCardPage.tsx             # Individual job detail page with structured display
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminJobCardNew.tsx         # Admin interface for creating job cards
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AdminJobCardEdit.tsx        # Admin interface for editing job cards
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PrivacyPolicy.tsx           # GDPR privacy policy (updated with Xolo Go O√ú details)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ TermsConditions.tsx         # Terms of service (updated with Xolo Go O√ú details)
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ data/                           # Static data and enums
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ countries.ts                # EU and world countries list with type definitions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ jobCategories.ts            # Job categories with priority indicators and options
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dialingCodes.ts             # Country dialing codes with flags and manual entry
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts                    # Data exports for convenient importing
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ types/                          # TypeScript type definitions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ candidate.ts                # Candidate data types, interfaces, and job card types
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ utils/                          # Business logic and utilities
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validation.ts               # Form validation functions with step-specific validation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ supabase.ts                 # Database operations, file uploads, and candidate management
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ money.ts                    # Money formatting utilities for Euro display
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ seedJobCard.ts              # Sample job card creation (GXO Venray)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ createArvatoJob.ts          # Arvato job card creation utility
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ createArvatoJobDirect.ts    # Direct Arvato job insertion with structured fields
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ insertJobsDirect.ts         # Batch job insertion utility (all 3 jobs)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ insertRoyalFloraJob.ts      # Royal Flora job card creation with structured fields
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ lib/                            # Library functions
‚îÇ       ‚îî‚îÄ‚îÄ supabaseJobCards.ts         # Job card CRUD operations and public API
‚îÇ
‚îú‚îÄ‚îÄ supabase/                           # Supabase configuration and functions
‚îÇ   ‚îú‚îÄ‚îÄ functions/                      # Edge functions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ make-webhook/               # Make.com integration
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts                # Webhook handler with smart filtering and data transformation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ _shared/                    # Shared utilities
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ cors.ts                 # CORS configuration for edge functions
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ migrations/                     # Database schema migrations (30+ files)
‚îÇ       ‚îú‚îÄ‚îÄ create_candidates_table.sql # Initial candidates table creation
‚îÇ       ‚îú‚îÄ‚îÄ create_storage_buckets.sql  # File storage bucket setup
‚îÇ       ‚îú‚îÄ‚îÄ update_job_cards_public_view.sql # Job cards public view with structured fields
‚îÇ       ‚îî‚îÄ‚îÄ [various migration files]   # Progressive schema updates and enhancements
‚îÇ
‚îî‚îÄ‚îÄ documentation/                      # Additional documentation files
    ‚îú‚îÄ‚îÄ WEBHOOK_SETUP.md                # Database webhook setup instructions
    ‚îú‚îÄ‚îÄ WEBHOOK_SETUP_GUIDE.md          # Step-by-step webhook configuration
    ‚îú‚îÄ‚îÄ WEBHOOK_CONFIGURATION_FIX.md    # Webhook troubleshooting guide
    ‚îú‚îÄ‚îÄ SWITCH_TO_EDGE_FUNCTION.md      # Edge function migration guide
    ‚îî‚îÄ‚îÄ project-data-export.txt         # Complete project data export for reference
```

## üöÄ Development Setup

### Prerequisites
- **Node.js**: Version 18.x or higher
- **npm**: Latest version (comes with Node.js)
- **Supabase Account**: Free tier sufficient for development
- **Git**: For version control
- **Modern Browser**: Chrome, Firefox, Safari, or Edge for testing

### Installation Steps

1. **Clone the repository**
   ```bash
   git clone https://github.com/yourusername/hiresignal-intake-espt.git
   cd hiresignal-intake-espt
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Environment setup**
   ```bash
   cp .env.example .env
   ```
   
   **Fill in your Supabase project credentials in `.env`:**
   ```bash
   # Supabase Configuration (Required)
   VITE_SUPABASE_URL=https://your-project-id.supabase.co
   VITE_SUPABASE_ANON_KEY=your_supabase_anon_key_here
   
   # Application Configuration
   VITE_APP_ENV=development
   VITE_APP_VERSION=1.0.0
   
   # External Services (Optional)
   VITE_MAKE_WEBHOOK_URL=https://hook.eu2.make.com/your-webhook-url
   VITE_GOOGLE_ANALYTICS_ID=G-0Z03WFVZRV
   
   # Feature Flags
   VITE_ENABLE_DEBUG=true
   VITE_ENABLE_ANALYTICS=false
   ```

4. **Database setup**
   - Create a new Supabase project at https://supabase.com
   - Copy your project URL and anon key to `.env`
   - Run all migrations in `supabase/migrations/` in chronological order
   - Configure RLS policies as specified in migration files
   - Enable public access for candidate submissions
   - Set up storage buckets: `candidate-cvs`, `candidate-photos`, `job-assets`

5. **Start development server**
   ```bash
   npm run dev
   ```
   The app will be available at `http://localhost:5173`

### Build for Production

```bash
npm run build      # Build for production
npm run preview    # Test production build locally
npm run lint       # Run ESLint checks
```

## üöÄ Build for Production & Deployment Guide

### Build Commands
```bash
# Development
npm run dev        # Start development server with hot reload

# Production
npm run build      # Build optimized production bundle
npm run preview    # Preview production build locally
npm run lint       # Run ESLint for code quality checks
```

### Netlify Deployment Configuration

**Current Production Setup:**
- **Production URL**: https://hiresignal.eu
- **Staging URL**: https://hiresignaleu.netlify.app (redirects to production)
- **Build Command**: `npm run build`
- **Publish Directory**: `dist`
- **Node Version**: 18.x

**Environment Variables (Netlify Dashboard):**
```bash
# Required for Production
VITE_SUPABASE_URL=https://esgnkkclyqozjewdllxh.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVzZ25ra2NseXFvempld2RsbHhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1NjUyNzksImV4cCI6MjA3MDE0MTI3OX0.gkHIDrMeOFDQ1XPZpNZtfnAKRZZ4aRcZH0yvveXkQ0Y
VITE_APP_ENV=production
VITE_ENABLE_DEBUG=false
VITE_ENABLE_ANALYTICS=true
```

**Netlify Configuration (`netlify.toml`):**
- **SPA Redirects**: All routes redirect to `/index.html` for client-side routing
- **Security Headers**: X-Frame-Options, X-XSS-Protection, X-Content-Type-Options, Referrer-Policy
- **Cache Control**: Static assets cached for 1 year, immutable
- **Custom Domain**: Automatic redirect from `hiresignal.netlify.app` to `hiresignal.eu`

**Manual Deployment Steps:**
1. Connect GitHub repository to Netlify
2. Configure build settings (command: `npm run build`, directory: `dist`)
3. Set environment variables in Netlify dashboard
4. Configure custom domain DNS to point to Netlify
5. Enable HTTPS and force redirects
6. Set up branch deploys for staging

## üìä Database Schema

### Candidates Table (`candidates`)

**Purpose**: Stores all candidate information across the 5-step application form, with progressive data collection and EU eligibility tagging.

#### Core System Fields
- `id` (uuid, primary key, default: gen_random_uuid()) - Unique candidate identifier
- `created_at` (timestamptz, default: now()) - Record creation timestamp
- `updated_at` (timestamptz, default: now()) - Last modification timestamp with trigger
- `form_step` (integer, default: 1) - Current form completion step (0-5)
- `status` (text, default: 'intake_started') - Application status tracking
- `role` (text, default: 'candidate') - User role (candidate/lead/client)
- `tier` (text, default: 'free') - Service tier (free/premium/enterprise)
- `eu_eligibility_type` (text, default: 'unknown') - EU eligibility classification

#### Step 0: EU Qualification (Pre-screening)
- Pre-screening step that determines eligibility before form entry
- Non-qualified users see helpful rejection screen with next steps
- No database fields (qualification happens before record creation)

#### Step 1: Contact Information
- `first_name` (text, required) - Candidate's first name
- `last_name` (text, required) - Candidate's last name
- `phone_number` (text, required) - WhatsApp number with country code (7-15 digits validation)
- `email` (text, required, unique) - Email address with lowercase normalization

#### Step 2: Personal Details (3 Sub-steps)
**Sub-step 2.1: Personal Basics**
- `date_of_birth` (date) - Birth date for age calculation (16-70 years validation)
- `age` (integer, default: 0) - Calculated age from date of birth
- `gender` (text) - Gender selection (male/female/prefer_not_say)
- `citizenship` (text) - EU citizenship or 'other' for residence cards
- `birth_country` (text) - Country of birth (all world countries)
- `birth_city` (text) - City of birth (optional)

**Sub-step 2.2: Skills & Readiness**
- `english_level` (text) - English proficiency (none/beginner/intermediate/advanced)
- `driver_license_b` (text) - Car driving license status (none/b/c/ce)
- `willing_to_drive` (boolean, default: false) - Willingness to drive in Netherlands/Germany
- `willing_to_drive_nl` (boolean) - Specific willingness to drive in Netherlands
- `travel_funds_status` (text) - Financial readiness for relocation (have/arrange/no)
- `motivation_test_confirmed` (boolean, default: false) - Self-attestation for job motivation

**Sub-step 2.3: Partner Email**
- `linked_candidate_email` (text) - Email of partner/friend for couple placements

#### Step 3: Work Experience
- `work_experience_tags` (text[], default: '{}') - Array of job categories with priority guidance
- `other_job_type` (text) - Custom job type if not listed
- `relocation_readiness_days` (text) - Timeline for relocation (7/14/30/not_sure)

#### Step 4: Additional Information
- `worked_abroad` (boolean, default: false) - Previous international work experience
- `worked_abroad_country` (text) - Country of previous work
- `worked_abroad_year` (text) - Year of international work
- `user_comments` (text) - Additional notes and requirements
- `cv_file_url` (text) - Uploaded CV file URL (Supabase Storage)
- `profile_photo_url` (text) - Uploaded photo URL (Supabase Storage)

#### Step 5: Contact Preferences
- `contact_method` (text, default: 'whatsapp') - Preferred contact method
- `telegram_handle` (text) - Telegram username (optional)
- `legal_status_confirmed` (boolean, default: false) - EU work authorization confirmed
- `contact_consent` (boolean, default: false) - Consent to be contacted

#### Indexes and Performance
- **Primary Key**: `candidates_pkey` on `id`
- **Unique Constraint**: `candidates_email_key` on `email`
- **Performance Indexes**:
  - `candidates_created_at_idx` (DESC) for recent candidates
  - `candidates_form_step_idx` for step-based queries
  - `candidates_status_idx` for status filtering
  - `candidates_eu_eligibility_type_idx` for EU classification
  - `candidates_willing_to_drive_idx` for driver filtering
  - `candidates_travel_funds_status_idx` for financial readiness
  - `candidates_motivation_test_confirmed_idx` for motivation filtering
  - `candidates_linked_candidate_email_idx` for couples matching
  - `candidates_willing_to_drive_nl_idx` for Netherlands driving

#### Row Level Security (RLS)
- **Enabled**: Yes
- **Policies**:
  - "Allow all operations for everyone" - Public form submissions
  - "Admins can access all candidate_docs" - Admin full access
  - "candidate_docs_user_access" - Users can access their own documents
  - "Partners can read each other's candidate_docs" - Partners can view each other's progress (SELECT only)
  - "ops_all" - Operator access for service operations
- **Rationale**: Public intake form requires unrestricted INSERT/UPDATE access, but document viewing between partners requires specific read-only access

#### Triggers
- `update_candidates_updated_at` - Updates `updated_at` timestamp on record changes
- `make_create_candidate` - Webhook trigger for Make.com integration (UPDATE only, form completion)

### Job Cards Table (`job_cards`)

**Purpose**: Stores job opportunities with structured information for rich display and candidate matching.

#### Core Job Information
- `id` (uuid, primary key, default: gen_random_uuid()) - Unique job identifier
- `created_at` (timestamptz, default: now()) - Job creation timestamp
- `updated_at` (timestamptz, default: now()) - Last modification timestamp
- `title` (text, required) - Job title and position name
- `location` (text, required) - Job location (city, country)
- `role_tag` (text, required) - Job category (warehouse/logistics/production/technical/driver)
- `status` (text, default: 'draft') - Publication status (draft/published)

#### Compensation & Costs
- `gross_rate_hour` (numeric(6,2), required) - Hourly gross rate (‚Ç¨12-‚Ç¨25 constraint)
- `hours_week` (integer, default: 40) - Weekly hours (32-48 constraint)
- `deductions` (jsonb, default: housing/insurance/transport structure) - Weekly cost deductions
- `pocket_pay_weekly` (numeric(8,2), calculated) - Net weekly pay after deductions

#### Job Details & Requirements
- `shifts` (text) - Work schedule and shift information
- `housing_notes` (text, default: standard shared accommodation text) - Housing arrangements
- `requirements` (text[], default: '{}') - Job requirements array
- `couples_welcome` (boolean, default: false) - Accepts couples applications
- `driver_plus` (boolean, default: false) - Driver license advantage
- `notes` (text) - Additional job information (legacy field)

#### Structured Information Fields (New)
- `job_responsibilities` (text[]) - Array of key job duties and tasks
- `work_environment` (text) - Work environment description (temperature, team size, atmosphere)
- `contract_details` (text) - Contract duration, type, and renewal information
- `benefits_summary` (text[]) - Array of key benefits (holiday allowance, overtime rates)
- `candidate_profile_points` (text[]) - Array of ideal candidate characteristics
- `transportation_notes` (text) - Available transportation options and details
- `housing_deposit_notes` (text) - Housing deposit requirements and refund policy
- `shift_allowances` (text) - Shift premiums, weekend bonuses, and overtime rates

#### Application & Media
- `apply_cta_url` (text, required) - Application URL with UTM tracking
- `image_url` (text) - Job image URL (Pexels or uploaded)
- `image_alt` (text) - Image alt text for accessibility
- `image_attribution` (text) - Image credit and attribution

#### Private/Admin Fields
- `buyer_internal` (text) - Internal buyer reference (Wiertz, IFJ, etc.)
- `agency_ref` (text) - Agency reference code
- `end_client_hint` (text) - End client hint for candidates
- `template_version` (text, default: 'v1') - Template version tracking
- `nda_level` (text, default: 'basic') - NDA level (none/basic/strict)

#### Constraints & Validation
- `job_cards_gross_rate_hour_check`: Rate between ‚Ç¨12-‚Ç¨25
- `job_cards_hours_week_check`: Hours between 32-48 per week
- `job_cards_role_tag_check`: Valid role categories only
- `job_cards_status_check`: Valid status values only
- `job_cards_nda_level_check`: Valid NDA levels only

#### Indexes for Performance
- `idx_job_cards_created_at` (DESC) for recent jobs
- `idx_job_cards_status` for published job filtering
- `idx_job_cards_role` for category-based searches
- `idx_job_cards_benefits` (GIN) for benefits array searches
- `idx_job_cards_responsibilities` (GIN) for responsibilities array searches
- `idx_job_cards_candidate_points` (GIN) for candidate profile searches

#### Row Level Security
- **Public Read Policy**: `public_read_job_cards` - Only published jobs visible to public
- **Service Role Policy**: `service_all_job_cards` - Full access for service operations

### Job Cards Public View (`job_cards_public`)

**Purpose**: Secure public view of published job cards, excluding private/admin fields.

**Exposed Fields**: All public job information including structured fields, excluding `buyer_internal`, `agency_ref`, and other private data.

**Security**: Only shows jobs with `status = 'published'`, ensuring draft jobs remain private.

### Candidate Documents Table (`candidate_docs`)

**Purpose**: Stores document uploads, travel checklist, and job assignment details for candidates.

#### Enhanced Arrival and Agency Information (Updated October 7, 2025)

**Arrival Block Fields** (`arrival_block` JSONB column):
- `arrival_date` (text) - Arrival date in ISO format
- `arrival_time` (text) - Full arrival window with context (e.g., "Saturday 4 October, 08:00-12:00 (be at check-in before 10:00)")
- `arrival_window` (text) - Short form arrival window
- `arrival_deadline` (text) - Specific check-in deadline time
- `arrival_location` (text) - Primary check-in location address
- `arrival_location_alt` (text) - Alternative location address (e.g., Tilburg vs Waalwijk)
- `arrival_contact` (text) - Contact phone number for arrival coordination
- `arrival_instructions` (text) - Detailed arrival instructions with formatting
- `housing_address_note` (text) - Housing address release information
- `housing_address_release_date` (text) - Date when housing address will be confirmed
- `travel_proof_requirement` (text) - Travel document upload requirements and deadlines
- `pickup_required` (boolean) - Whether pickup service is available
- `status` (text) - Arrival confirmation status (planned/confirmed/accepted/cancelled)

**Agency Block Fields** (`agency_block` JSONB column):
- `agency_name` (text) - Employing agency name
- `agency_email` (text) - Agency contact email
- `agency_phone` (text) - Agency contact phone
- `payment_day` (text) - Payday schedule
- `accommodation_cost_week` (numeric) - Weekly housing cost
- `insurance_cost_week` (numeric) - Weekly insurance cost
- `transport_info` (text) - Transportation options and details
- `room_type` (text) - Accommodation type description
- `deposit_policy` (text) - Deposit requirements and refund policy
- `criminal_record_required` (boolean) - Whether clean criminal record is mandatory
- `criminal_record_timeline` (text) - Timeline for criminal record submission

**SQL Update Reference**: See `update_dochub_arrival_info.sql` and `dochub_update_guide.md` for comprehensive update queries and procedures.

## üìù Form Structure & Logic

### Total Steps: 5 + 1 Qualification Step

#### Step 0: EU Eligibility Qualification (Pre-screening)
**Purpose**: Determine EU work authorization before form entry
**Fields**:
- `hasEUStatus` (radio, required)
  - Options: "Yes, I have an EU passport or valid EU residence card issued in the Netherlands" / "No, I do not have EU work authorization"
  - Validation: Must select "yes" to proceed
  - Rejection Screen: Helpful guidance with next steps for non-qualified users

#### Step 1: Contact Information
**Purpose**: Capture basic contact details with enhanced phone validation
**Fields**:
- `firstName` (text, required)
  - Validation: Non-empty string
  - Placeholder: "Enter your first name"
- `lastName` (text, required)
  - Validation: Non-empty string
  - Placeholder: "Enter your last name"
- `phoneNumber` (tel, required)
  - Label: "WhatsApp Number"
  - Validation: Phone number with country code, 7-15 digits, numbers only + formatting chars
  - Pattern: `[+]?[0-9\\s\\-\\(\\)]+`
  - Max Length: 20 characters
  - Input Mode: numeric
  - Hint: "Include country code. We'll message you here first."
  - **Country Code Selector**:
    - Predefined countries with dialing codes and flags
    - Manual entry option for unlisted countries
    - Default: "+351 (Portugal)"
  - **Real-time Validation**:
    - Character filtering: Only numbers, spaces, hyphens, parentheses
    - Length limits: 7-15 digits maximum
    - Format preview: Shows complete number as user types
- `email` (email, required)
  - Validation: Valid email format with lowercase normalization
  - Placeholder: "your.email@example.com"

#### Step 2: About You (3 Sub-steps)
**Purpose**: Personal details split into focused sub-steps for better UX

**Sub-step 2.1: Basic Info**
- `dateOfBirth` (date, required)
  - Validation: Age between 16-70 years
  - Min: "1940-01-01", Max: current date
  - Auto-calculate: age field
  - Hint: "Must be 16-70 years old"
- `age` (number, calculated, disabled)
  - Auto-calculated from date of birth
  - Hint: "Calculated automatically"
- `gender` (radio, required)
  - Options: Male / Female / Prefer not to say
- `citizenship` (select, required)
  - Options: EU countries + 'other' option for residence cards
  - Hint: "Select your passport country"
  - Special handling for 'other': Warning about TRC requirements
- `birthCountry` (select, required)
  - Options: All world countries
- `birthCity` (text, optional)
  - Placeholder: "Optional"

**Sub-step 2.2: Skills & Readiness**
- `englishLevel` (select, required)
  - Options: None / Beginner (A1‚ÄìA2) / Intermediate (B1‚ÄìB2) / Advanced (C1‚ÄìC2)
  - Hint: "How well do you speak English?"
- `driverLicense` (radio, optional)
  - Options: None / Category B (Car) / Category C (Truck) / Category CE (Truck + Trailer)
  - Hint: "Do you have a car license? (Optional)"
- `willingToDrive` (radio, conditional)
  - Shown if driverLicense is not 'none'
  - Options: Yes / No
  - Label: "Are you willing to drive in the Netherlands or drive a company car?"
- `travelFundsStatus` (radio, required)
  - Options: "I have my own travel funds" / "I need assistance arranging travel funds" / "I do not have travel funds"
  - Hint: "You'll need around ‚Ç¨400-‚Ç¨600 total for travel to Netherlands + first 2 weeks"
  - **Cost Breakdown Display**:
    - Travel: ‚Ç¨50-‚Ç¨200
    - Food for 2 weeks: ‚Ç¨200-‚Ç¨300
    - Basic items: ‚Ç¨100
    - Total: ‚Ç¨400-‚Ç¨600
    - Note: "You get paid weekly, so you only need money until your first paycheck"
- `motivationTestConfirmed` (checkbox, required)
  - Label: "I understand this job can be physically demanding and requires staying motivated"
  - Description: "Factory and warehouse work involves standing, lifting, and working in teams. You need to stay positive even when the work gets tough."

**Sub-step 2.3: Partner (Optional)**
- `linkedCandidateEmail` (email, optional)
  - Label: "Partner/Friend Email (Optional)"
  - Placeholder: "partner@example.com"
  - Hint: "If your partner or friend is also applying, enter their email to link your applications"
  - Priority message: "Couples have priority placement and higher success rates!"

#### Step 3: Work Experience
**Purpose**: Work history and availability with priority job guidance
- `workExperience` (checkbox_group, required)
  - Label: "What kind of work have you done before?"
  - Priority message: "Most needed now: Warehouse Workers, Pickers, Food Production, Drivers (B/Forklift)"
  - **Categories**:
    - Technical (üîß): Solar Panel Installer, Maintenance Mechanic, Construction Worker, Assembly Mechanic, Truck Driver (C/CE), Scaffolder, Car Technician, Welder, Plumber, CNC Operator, Carpenter, Electrician
    - Agricultural (üåæ): Gardener, Greenhouse Worker, Field Worker, Farm Worker
    - Logistics (üì¶): Loader, Reach Truck Driver, Warehouse Worker, Logistic Operator, Forklift Driver, Order Picker, Team Leader
    - Production (üè≠): Production Worker, Production Operator, Assembly Employee, Manual Worker, Tractor Driver
    - Services (üçΩÔ∏è): Waiter, Job Coach, Kitchen Worker, Cook, Cleaning Staff, Casino Employee, Delivery Driver (B), Bus Driver (D), Hospitality Staff, Bartender, Lifeguard
  - Other option: Text input for unlisted job types
- `otherJobType` (text, conditional)
  - Shown if "Other" checkbox selected
  - Placeholder: "Write your job type here"
- `relocationReadiness` (radio, required)
  - Options: "7 Days (I'm ready now)" / "14 Days (I need a little time)" / "30 Days (I'm still preparing)" / "Not sure (I need more info)"
  - Priority feedback for 7-day readiness

#### Step 4: Additional Information
**Purpose**: Optional information and file uploads with upload encouragement
- `workedAbroad` (radio, required)
  - Options: Yes / No
- `workedAbroadCountry` (select, conditional)
  - Shown if workedAbroad is true
  - Options: All world countries
- `workedAbroadYear` (text, conditional)
  - Placeholder: "e.g. 2022"
- `comments` (textarea, optional)
  - Rows: 3
  - Placeholder: "Any notes for us? (housing with partner, family job, physical limits, transport, etc.)"
  - Hint: "Optional - but helps us find better matches"
- `cvFile` (file, optional)
  - Accept: application/pdf
  - Max Size: 30MB
  - Hint: "PDF only, Max 30MB. Not required but recommended."
  - Features: Drag-drop, accurate size display
- `profilePhoto` (file, optional)
  - Accept: image/jpeg, image/png
  - Max Size: 5MB
  - Hint: "JPG or PNG, Max 5MB. This helps us place you faster, but it's not required."
  - Features: Drag-drop, accurate size display

#### Step 5: Contact Preferences & Consent
**Purpose**: Final preferences and required confirmations
- `contactMethod` (select, required, default: 'whatsapp')
  - Options: WhatsApp / Email
- `legalStatusConfirmed` (checkbox, required)
  - Label: "I confirm I have a valid EU passport, ID card, or residence card and am legally allowed to work abroad."
  - Description: "This is required to work in EU countries"
- `contactConsent` (checkbox, required)
  - Label: "I agree to be contacted and pre-screened for job matches."
  - Description: "We'll only contact you about relevant job opportunities"

### Validation Rules

#### Step 0 Validation
- `hasEUStatus`: Required, must be 'yes' to proceed

#### Step 1 Validation
- `firstName`: Required, non-empty string
- `lastName`: Required, non-empty string
- `phoneNumber`: Required, valid phone format with country code, 7-15 digits, numbers only + formatting chars
- `email`: Required, valid email format

#### Step 2a Validation (Personal Basics)
- `dateOfBirth`: Required, valid date, age 16-70
- `gender`: Required, one of: male|female|prefer_not_say
- `citizenship`: Required, EU country or 'other'
- `birthCountry`: Required, valid country

#### Step 2b Validation (Skills & Readiness)
- `englishLevel`: Required, one of: none|beginner|intermediate|advanced
- `travelFundsStatus`: Required, one of: have|arrange|no
- `motivationTestConfirmed`: Required, must be true

#### Step 2c Validation (Partner Email)
- `linkedCandidateEmail`: Optional, valid email format if provided

#### Step 3 Validation
- `workExperience`: Required, at least one job category selected
- `relocationReadiness`: Required, one of: 7|14|30|not_sure

#### Step 4 Validation
- `workedAbroad`: Required, boolean
- File uploads: Optional, but validated for size and type if provided

#### Step 5 Validation
- `contactMethod`: Required, one of: whatsapp|email
- `legalStatusConfirmed`: Required, must be true
- `contactConsent`: Required, must be true

### File Upload Configuration

#### CV Upload
- **Max Size**: 30MB
- **Types**: application/pdf only
- **Bucket**: candidate-cvs
- **Features**: Drag-drop, accurate size display (bytes/KB/MB/GB), real-time validation
- **Path Structure**: `{candidateId}/cv-{timestamp}.pdf`

#### Profile Photo Upload
- **Max Size**: 5MB
- **Types**: image/jpeg, image/png
- **Bucket**: candidate-photos
- **Features**: Drag-drop, accurate size display, real-time validation
- **Path Structure**: `{candidateId}/profile-photo-{timestamp}.{extension}`

#### Job Image Upload (Admin)
- **Max Size**: 10MB
- **Types**: image/jpeg, image/png, image/webp
- **Bucket**: job-assets
- **Features**: Drag-drop, accurate size display, real-time validation

### Status Flow
- **Step 0**: `qualification_check` (pre-screening, no database record)
- **Step 1**: `intake_started` (initial contact info saved)
- **Step 2**: `step2_in_progress` (personal details in progress)
- **Step 3**: `step3_in_progress` (work experience in progress)
- **Step 4**: `step4_in_progress` (additional info in progress)
- **Step 5**: `form_completed` (triggers webhook to Make.com)

## üîÑ Data Flow & Architecture

### Form Submission Flow
1. **Step 0**: EU eligibility pre-screening ‚Üí Qualification check ‚Üí Redirect if not qualified (with helpful next steps)
2. **Step 1**: Contact info ‚Üí Immediate database save ‚Üí Generate candidate ID ‚Üí Save to localStorage
3. **Step 2**: Personal details (3 sub-steps) ‚Üí Progressive validation ‚Üí EU eligibility tagging
4. **Step 3**: Work experience ‚Üí Priority job guidance ‚Üí Save progress
5. **Step 4**: Additional info + file uploads ‚Üí File processing ‚Üí Save with URLs
6. **Step 5**: Final consent ‚Üí Complete application ‚Üí Status = 'form_completed' ‚Üí Webhook trigger

### Database Operations
- **Create**: New candidate on Step 1 completion with duplicate email checking
- **Update**: Progressive updates on each step completion with candidate ID validation
- **EU Tagging**: Automatic classification based on citizenship (eu_passport/eu_residence_card/unknown)
- **Validation**: Client-side and server-side validation with real-time feedback
- **Error Handling**: Graceful fallbacks, retry logic, and user-friendly error messages

### File Handling
- **Upload Process**: Direct to Supabase Storage with progress tracking
- **Validation**: Size and type restrictions with real-time feedback
- **Storage Organization**: Organized by candidate ID with timestamp-based naming
- **URL Generation**: Public URLs for file access with proper permissions
- **Display**: Accurate size formatting (bytes/KB/MB/GB with decimals)

### Candidate ID Management
- **Creation**: Generated on Step 1 completion
- **Storage**: Saved to localStorage for session persistence
- **Validation**: Checked against database before each update
- **Recovery**: Email-based lookup for existing candidates
- **Cleanup**: Optional clearing after successful completion

## üîó Webhook Integrations

### Make.com Integration

#### How It Works
1. **User submits form** ‚Üí Data saved to `candidates` table with status update
2. **Database webhook triggers** ‚Üí Calls the Supabase Edge Function (`make-webhook`)
3. **Edge function processes** ‚Üí Validates, filters, and transforms data for Airtable
4. **Sends to Make.com** ‚Üí Your webhook receives the clean, structured data
5. **Make.com creates** ‚Üí Record in Airtable with proper formatting

#### Supabase Webhook Configuration
**Critical Setup Requirements**:
- **Webhook Name**: `make_create_candidate`
- **Table**: `candidates`
- **Events**: UPDATE only (NOT Insert - prevents early triggering)
- **Type**: Supabase Edge Functions
- **Edge Function**: `make-webhook`
- **HTTP Method**: POST
- **HTTP Headers**:
  ```
  Content-Type: application/json
  Authorization: Bearer YOUR_SUPABASE_ANON_KEY
  ```
- **Conditions**: 
  ```sql
  NEW.status = 'form_completed' AND NEW.form_step = 5
  ```

#### Edge Function Benefits
- **Smart Filtering**: Only processes completed forms (status='form_completed', step=5)
- **Data Transformation**: Cleans and formats data for Airtable compatibility
- **Error Handling**: Comprehensive logging and retry logic
- **Validation**: Ensures data quality before sending to Make.com
- **Security**: Proper CORS handling and input sanitization

#### Data Format Sent to Make.com
```json
{
  "candidate_id": "uuid",
  "first_name": "John",
  "last_name": "Doe",
  "email": "john@example.com",
  "phone_number": "+351912345678",
  "date_of_birth": "1990-01-01",
  "age": 34,
  "gender": "male",
  "citizenship": "Portugal",
  "birth_country": "Portugal",
  "birth_city": "Lisbon",
  "english_level": "intermediate",
  "driver_license": "b",
  "willing_to_drive": true,
  "willing_to_drive_nl": true,
  "work_experience": "Warehouse Worker, Order Picker",
  "other_job_type": "",
  "relocation_readiness": "14",
  "travel_funds_status": "have",
  "motivation_test_confirmed": true,
  "linked_candidate_email": "partner@example.com",
  "worked_abroad": false,
  "worked_abroad_country": "",
  "worked_abroad_year": "",
  "comments": "Looking for couples placement",
  "contact_method": "whatsapp",
  "telegram_handle": "",
  "legal_status_confirmed": true,
  "contact_consent": true,
  "cv_file_url": "https://supabase-storage-url/cv.pdf",
  "profile_photo_url": "https://supabase-storage-url/photo.jpg",
  "status": "form_completed",
  "form_step": 5,
  "tier": "free",
  "created_at": "2025-09-07T14:42:59.659Z",
  "updated_at": "2025-09-07T14:45:12.123Z",
  "eu_eligibility_type": "eu_passport",
  "source": "hiresignal-supabase",
  "webhook_timestamp": "2025-09-07T14:45:12.123Z"
}
```

#### Troubleshooting Webhook Issues
- **No webhook trigger**: Ensure webhook is set to UPDATE only, not INSERT
- **Edge function errors**: Check function logs in Supabase Dashboard > Edge Functions > make-webhook > Logs
- **Make.com not receiving**: Verify webhook URL is correct in Supabase secrets (`MAKE_WEBHOOK_URL`)
- **Airtable not updating**: Check Make.com scenario configuration and field mapping

## üîê Security & Privacy

### Database Security
- **Row Level Security (RLS)**: Enabled on all tables with appropriate policies
- **Public Form Submissions**: Allowed for candidate intake with proper validation
- **Authenticated Admin Access**: Required for job card management and candidate administration
- **SQL Injection Protection**: Parameterized queries and input sanitization
- **Data Encryption**: At-rest and in-transit encryption via Supabase

### File Upload Security
- **Size Restrictions**: CV (30MB PDF), Photos (5MB JPG/PNG), Job Images (10MB)
- **Type Validation**: Strict MIME type checking and file extension validation
- **Storage Isolation**: Organized by candidate/job ID with proper access controls
- **Public URL Generation**: Secure, time-limited access where appropriate

### Privacy Compliance
- **GDPR Compliance**: Full compliance with EU data protection regulations
- **Operating Entity**: Estonian company (Xolo Go O√ú) ensuring EU jurisdiction
- **Cookie Consent**: iOS-style banner with accept/decline options
- **Privacy Policy**: Comprehensive policy with Xolo Go O√ú details
- **Terms & Conditions**: Clear terms with liability disclaimers
- **Data Retention**: Configurable retention policies with deletion rights

### Input Validation
- **Client-Side**: Real-time validation with immediate feedback
- **Server-Side**: Comprehensive validation before database operations
- **Phone Number**: Strict 7-15 digit limits with character filtering
- **Email**: Format validation with duplicate checking
- **File Uploads**: Size, type, and content validation

## üé® UX/UI Design Principles

### Mobile-First Philosophy
- **Touch Targets**: Minimum 44px for all interactive elements
- **One Focus Per Screen**: Single primary action per view to reduce cognitive load
- **Sticky CTA Footer**: Mobile-optimized call-to-action for improved conversions
- **Progressive Disclosure**: Advanced features revealed contextually
- **Responsive Breakpoints**: 
  - Mobile: default (320px+)
  - Tablet: 768px+
  - Desktop: 1024px+
- **Real-Time Validation**: Immediate feedback with character filtering
- **Sub-Step Navigation**: Complex forms broken into focused sub-steps

### Accessibility Standards
- **Semantic HTML**: Proper heading hierarchy and ARIA roles
- **Keyboard Navigation**: Full keyboard support throughout application
- **Color Contrast**: WCAG AA compliant contrast ratios (4.5:1 minimum)
- **Screen Reader**: Compatible form labels, errors, and navigation
- **Focus Management**: Clear visual indicators and logical tab order

### Behavioral Design
- **Language Optimization**: Simple language for low English fluency users
- **Progress Indicators**: Clear step completion status to reduce abandonment
- **Optional Field Marking**: Clear distinction between required and optional fields
- **Error Messages**: Plain, actionable language with specific guidance
- **Immediate Feedback**: Real-time validation and character filtering
- **Priority Guidance**: Job category recommendations and readiness feedback

### Visual Design System
- **Color Palette**: 
  - Primary: Zinc-based dark theme (#18181b background)
  - Accent: Blue (#3b82f6) for primary actions
  - Success: Green (#10b981) for positive feedback
  - Warning: Amber (#f59e0b) for cautions
  - Error: Red (#ef4444) for errors
  - Neutral: Zinc scale for text and backgrounds
- **Typography**: 
  - Font Family: Inter (Google Fonts)
  - Weights: 300, 400, 500, 600, 700 (maximum 3 weights per page)
  - Line Height: 150% for body text, 120% for headings
- **Spacing System**: Consistent 8px grid system throughout
- **Component Design**: Reusable design tokens with hover states and micro-interactions
- **Animation**: Subtle transitions (300ms) and transform effects for engagement

## üìä Analytics & Monitoring

### Integrated Services
- **Google Analytics 4**: User behavior tracking with GDPR compliance
  - ID: G-0Z03WFVZRV
  - Consent-based activation via cookie banner
  - Custom events for form completion tracking
- **Supabase Analytics**: Database performance metrics and query monitoring
- **Netlify Analytics**: Deployment performance and traffic data
- **Console Logging**: Detailed operation tracking for debugging
- **Travel Payout**: Affiliate tracking script for monetization (emrldco.com)
- **Crisp Chat**: Customer support with mobile positioning (ID: 26cc4fce-baee-4840-be8b-9578b524bff5)

### Key Metrics Tracked
- **Conversion Funnel**: Form completion rates by step and sub-step
- **EU Eligibility**: Qualification rates and rejection reasons
- **Candidate Sources**: Attribution tracking via UTM parameters
- **File Upload Success**: Upload completion rates and failure reasons
- **Device Usage**: Mobile vs desktop usage patterns
- **Geographic Distribution**: Applicant locations and target markets
- **Database Performance**: Query execution times and error rates
- **Error Tracking**: Real-time error monitoring with stack traces
- **Cookie Consent**: Acceptance rates and privacy compliance
- **Input Validation**: Error patterns and user behavior
- **Contact Preferences**: WhatsApp vs Email selection rates
- **Couples Applications**: Linked application rates and success metrics
- **Travel Funds**: Readiness distribution and financial preparation
- **Phone Validation**: Success rates and formatting accuracy

### Performance Monitoring
- **Core Web Vitals**: LCP, FID, CLS optimization
- **Lighthouse Scores**: 95+ target across all metrics
- **Bundle Analysis**: Code splitting and optimization tracking
- **Database Queries**: Performance monitoring and optimization
- **File Upload Performance**: Speed and success rate tracking
- **Error Recovery**: Robust error handling with user-friendly messages

## üß™ Testing & Debug Mode

### Debug Mode Activation
Enable debug mode by adding `?debug=true` to any URL:
```
https://hiresignal.eu/?debug=true
https://hiresignal.eu/form?debug=true
https://hiresignal.eu/jobs/job-id?debug=true
```

### Debug Panel Features
**Form Debug Panel** (FormWizard):
- Real-time form data preview with JSON formatting
- Current step and sub-step tracking
- Validation errors display with field-specific details
- Network request monitoring for database operations
- Performance metrics and timing information
- Local storage inspection for candidate ID management
- Quick navigation shortcuts (success screen, step jumping)

**Database Debug Panel** (DatabaseDebugger):
- Live database record count with refresh capability
- Candidate record inspection with detailed field display
- Test data insertion with sample candidate creation
- Database connection testing and validation
- Data clearing functionality (with confirmation)
- Real-time query performance monitoring

**Job Card Debug Features**:
- Raw job card data display in JSON format
- Structured data parsing preview
- Image fallback testing and validation
- Database field mapping verification

### Development Tools

#### Form Validation Testing
- Step-by-step validation with error simulation
- Edge case handling (invalid dates, phone formats, file types)
- Real-time input validation testing with character filtering
- Phone number validation (7-15 digits, country codes)
- File upload validation (size limits, type restrictions)

#### Database Operations Testing
- Insert/update/select operation verification
- RLS policy testing and validation
- Performance monitoring and optimization
- Candidate ID management and recovery testing
- File upload integration testing

#### Quick Actions (Debug Mode)
- `?debug=true&success=true` - Jump to success screen
- `?debug=true&step5=true` - Jump to Step 5 with mock data
- Sample job card creation buttons
- Database record inspection tools
- File upload testing utilities

## üîÑ Data Flow & Architecture

### Form Submission Architecture

#### Step 1: Contact Information Flow
1. User enters contact details with enhanced phone validation
2. Real-time validation with character filtering (numbers only + formatting)
3. Email duplicate checking against existing candidates
4. Immediate database save to create candidate record
5. Candidate ID generation and localStorage storage
6. EU eligibility tagging preparation

#### Step 2: Personal Details Flow (3 Sub-steps)
**Sub-step 2.1: Personal Basics**
1. Date of birth validation (16-70 years) with auto-age calculation
2. Gender selection with accessibility support
3. Citizenship selection with EU/non-EU classification
4. Birth location capture for demographic tracking

**Sub-step 2.2: Skills & Readiness**
1. English level assessment for job matching
2. Driver license validation with conditional driving willingness
3. Travel funds assessment with cost breakdown display
4. Motivation test confirmation for physical job readiness

**Sub-step 2.3: Partner Email**
1. Optional partner email linking for couples applications
2. Priority placement messaging for couples
3. Email format validation if provided

#### Step 3: Work Experience Flow
1. Multi-category job selection with priority guidance
2. "Other" job type handling with text input
3. Relocation readiness assessment with feedback
4. Priority messaging for 7-day ready candidates

#### Step 4: Additional Information Flow
1. International work experience capture
2. Comments and special requirements collection
3. **File Upload Process**:
   - CV upload (PDF, 30MB max) to `candidate-cvs` bucket
   - Profile photo upload (JPG/PNG, 5MB max) to `candidate-photos` bucket
   - Real-time size validation and progress tracking
   - Accurate size display (bytes/KB/MB/GB)
   - Public URL generation and database storage

#### Step 5: Consent & Finalization Flow
1. Contact method preference (WhatsApp default)
2. Legal status confirmation (required)
3. Contact consent (required)
4. Final submission with status = 'form_completed'
5. Webhook trigger to Make.com via Edge Function

### Database Operations

#### Candidate Management
- **Creation**: New candidate on Step 1 with email uniqueness validation
- **Updates**: Progressive updates on each step with data validation
- **ID Tracking**: localStorage-based session management with recovery
- **Duplicate Handling**: Email-based duplicate detection and merging
- **Status Progression**: Automatic status updates based on form completion

#### EU Eligibility Tagging
**Critical Business Logic**:
```typescript
if (euCountries.includes(citizenship)) {
  eu_eligibility_type = 'eu_passport';
} else if (citizenship === 'other') {
  eu_eligibility_type = 'eu_residence_card';
} else {
  eu_eligibility_type = 'unknown';
}
```

#### Error Handling
- **Network Errors**: Retry logic with exponential backoff
- **Validation Errors**: Field-specific error messages with guidance
- **Database Errors**: Graceful fallbacks with user-friendly messages
- **File Upload Errors**: Detailed error reporting with retry options

## üîó Webhook Integrations

### Make.com Integration (Primary)

#### Architecture Overview
```
Form Completion (Step 5) 
‚Üí Database UPDATE (status='form_completed') 
‚Üí Supabase Webhook Trigger 
‚Üí Edge Function (make-webhook) 
‚Üí Data Validation & Transformation 
‚Üí Make.com Webhook 
‚Üí Airtable Record Creation
```

#### Edge Function Processing (`supabase/functions/make-webhook/index.ts`)
**Smart Filtering Logic**:
- Only processes UPDATE events on `candidates` table
- Validates `status = 'form_completed'` AND `form_step = 5`
- Ignores incomplete forms with detailed logging
- Transforms data for Airtable compatibility
- Handles errors gracefully with comprehensive logging

**Data Transformation**:
- Flattens complex form data into Airtable-friendly format
- Joins work experience arrays into comma-separated strings
- Normalizes boolean values and optional fields
- Adds source tracking and timestamp metadata
- Includes EU eligibility classification for buyer segmentation

#### Supabase Secrets Configuration
Required secrets in Supabase Dashboard > Project Settings > Edge Functions > Secrets:
- `MAKE_WEBHOOK_URL`: Your Make.com webhook URL

#### Testing & Verification
1. Complete form submission on website
2. Check Edge Function logs: Supabase Dashboard > Edge Functions > make-webhook > Logs
3. Verify Make.com scenario trigger with complete data
4. Confirm Airtable record creation with proper field mapping

### Future Webhook Integrations
- **Job Card Publishing**: Webhook for new job notifications
- **Email Automation**: Integration with EmailOctopus for drip campaigns
- **WhatsApp Business**: Automated messaging for candidate updates
- **Payment Processing**: Stripe webhooks for premium feature billing

## üîê Security & Privacy

### Database Security
- **Row Level Security (RLS)**: Enabled on all tables
- **Public Policies**: Allow public INSERT/UPDATE for candidate intake
- **Admin Policies**: Authenticated access for job card management
- **Service Role**: Full access for automated operations
- **Data Encryption**: At-rest and in-transit encryption via Supabase

### File Upload Security
- **Type Restrictions**: Strict MIME type validation
- **Size Limits**: CV (30MB), Photos (5MB), Job Images (10MB)
- **Storage Buckets**: Isolated storage with proper access controls
- **Virus Scanning**: Supabase built-in security scanning
- **Public URLs**: Secure URL generation with appropriate permissions

### Privacy Compliance (GDPR)
- **Legal Entity**: Xolo Go O√ú (Estonian company, EU jurisdiction)
- **Data Controller**: Van Vo (Founder)
- **Privacy Policy**: Comprehensive policy with entity details
- **Cookie Consent**: iOS-style banner with granular controls
- **Data Rights**: Full GDPR rights implementation (access, rectification, erasure, portability)
- **Retention Policy**: Configurable data retention with automated cleanup

### Input Validation & Security
- **Client-Side Validation**: Real-time feedback with character filtering
- **Server-Side Validation**: Comprehensive validation before database operations
- **XSS Prevention**: Input sanitization and output encoding
- **CSRF Protection**: Supabase built-in CSRF protection
- **Rate Limiting**: Supabase built-in rate limiting for API calls

## üìä Analytics & Monitoring

### Integrated Analytics Services

#### Google Analytics 4 (G-0Z03WFVZRV)
- **GDPR Compliance**: Consent-based activation via cookie banner
- **Custom Events**: Form step completion, file uploads, error tracking
- **Enhanced Ecommerce**: Goal tracking for form completions
- **Audience Segmentation**: EU eligibility, job categories, device types
- **Conversion Tracking**: Multi-step funnel analysis

#### Supabase Analytics
- **Database Performance**: Query execution times and optimization
- **API Usage**: Request volume and response times
- **Error Monitoring**: Database errors and constraint violations
- **Storage Usage**: File upload volume and storage consumption

#### Netlify Analytics
- **Deployment Metrics**: Build times and success rates
- **Traffic Analysis**: Page views, unique visitors, geographic distribution
- **Performance Monitoring**: Core Web Vitals and loading times
- **Bandwidth Usage**: Data transfer and CDN performance

#### Customer Support (Crisp Chat)
- **Website ID**: 26cc4fce-baee-4840-be8b-9578b524bff5
- **Mobile Positioning**: Adjusted to avoid CTA overlap
- **Desktop Only**: Hidden on mobile devices to prevent UI conflicts
- **Safe Mode**: Enabled to prevent overlay issues

#### Affiliate Tracking (Travel Payout)
- **Script ID**: 456528
- **Domain**: emrldco.com
- **Purpose**: Travel-related monetization tracking
- **Implementation**: Async script loading in document head

### Key Performance Indicators (KPIs)

#### Conversion Metrics
- **Form Completion Rate**: Overall completion from Step 0 to Step 5
- **Step-by-Step Conversion**: Individual step completion rates
- **EU Qualification Rate**: Percentage passing initial eligibility check
- **File Upload Rate**: CV and photo upload completion rates
- **Couples Application Rate**: Linked candidate application frequency

#### Quality Metrics
- **Data Completeness**: Percentage of complete profiles
- **Validation Error Rate**: Input validation failure frequency
- **File Upload Success**: Upload completion without errors
- **Database Error Rate**: Database operation failure frequency
- **Webhook Success Rate**: Make.com integration reliability

#### User Experience Metrics
- **Mobile Usage**: Percentage of mobile vs desktop users
- **Session Duration**: Time spent on application process
- **Bounce Rate**: Users leaving without starting application
- **Error Recovery**: User ability to recover from validation errors
- **Contact Method Preference**: WhatsApp vs Email selection rates

## üß™ Testing & Debug Mode

### Debug Mode Features

#### Activation Methods
- **URL Parameter**: Add `?debug=true` to any URL
- **Quick Shortcuts**:
  - `?debug=true&success=true` - Jump to success screen
  - `?debug=true&step5=true` - Jump to Step 5 with mock data
  - `?debug=true` - Enable debug panel on current page

#### Debug Panel Capabilities
**Form Wizard Debug Panel**:
- Real-time form data preview with JSON formatting
- Current step and sub-step tracking with validation status
- Error display with field-specific details
- Network request monitoring for database operations
- Performance timing and metrics
- Local storage inspection and management
- Quick action buttons for testing scenarios

**Database Debug Panel**:
- Live candidate count with real-time updates
- Database record inspection with detailed field display
- Test candidate insertion with sample data
- Database connection testing and validation
- Data clearing functionality with confirmation prompts
- Query performance monitoring

**Job Card Debug Features**:
- Raw database data display in formatted JSON
- Structured field parsing preview
- Image fallback testing and URL validation
- Database field mapping verification

#### Development Testing Tools

**Form Validation Testing**:
- Step-by-step validation with comprehensive error scenarios
- Edge case handling (invalid dates, malformed phone numbers, oversized files)
- Real-time validation testing with character filtering
- Phone number validation (country codes, digit limits, formatting)
- File upload validation (size limits, type restrictions, drag-drop)

**Database Operations Testing**:
- CRUD operation verification with error simulation
- RLS policy testing with different user contexts
- Performance monitoring and query optimization
- Candidate ID management and recovery scenarios
- File upload integration with storage validation

**Mobile Testing Requirements**:
- Touch target size validation (44px minimum)
- Responsive breakpoint testing across devices
- Sticky CTA positioning and behavior
- Crisp Chat positioning to avoid overlaps
- Form completion on various screen sizes

## üîÑ Recent Updates

### Latest Changes (October 17, 2025)
- ‚úÖ **Partner Progress Visibility Fixed**: Resolved RLS policy blocking partners from viewing each other's document upload progress in couple applications
- ‚úÖ **New RLS Policy Created**: Added "Partners can read each other's candidate_docs" policy enabling bidirectional document progress visibility
- ‚úÖ **Couple Application Modal Enhanced**: Mercedes and Vasco (and all couples) can now see accurate partner progress instead of showing 0/6
- ‚úÖ **Security Maintained**: Partners can only VIEW each other's progress, not modify documents (SELECT-only policy)
- ‚úÖ **Database Access Tested**: Verified bidirectional access works correctly for all linked candidates
- ‚úÖ **See Database Schema section**: Updated RLS policies for candidate_docs table

### Previous Updates (October 8, 2025)
- ‚úÖ **Critical Webhook Trigger Fix**: Resolved database error blocking all candidate_docs updates including IBAN input
- ‚úÖ **Removed Obsolete Column References**: Fixed trigger_make_on_doc_ready function attempting to update deleted columns (ready_for_export, ready_for_export_at)
- ‚úÖ **Admin Access System Implemented**: Created comprehensive role-based access control with admin, operator, and candidate roles
- ‚úÖ **User Roles Table Created**: New user_roles table with RLS policies for secure role management
- ‚úÖ **Admin Dashboard Functionality**: Admins can now view any candidate's documents and timeline without creating candidate profiles
- ‚úÖ **Timeline System Enhanced**: Improved candidate_timeline table with better event tracking and admin visibility
- ‚úÖ **Webhook Optimization**: Trigger now only fires when doc_required_ok changes to TRUE, preventing unnecessary webhook calls
- ‚úÖ **Database Migration Cleanup**: Applied fix_trigger_function_remove_deleted_columns migration to restore full functionality
- ‚úÖ **IBAN Input Restored**: Candidates can now successfully type and save IBAN numbers without transaction rollbacks
- ‚úÖ **See Database Schema section**: Updated trigger functions and admin access policies

### Previous Updates (October 7, 2025)
- ‚úÖ **DocHub Arrival Information Enhancement**: Updated arrival_block JSONB structure with detailed arrival windows, housing address release notes, and travel proof requirements
- ‚úÖ **SQL Query Library Created**: Comprehensive SQL queries in `update_dochub_arrival_info.sql` for updating candidate arrival and agency information
- ‚úÖ **Arrival Window Formatting**: Changed arrival time from simple "10:00" to contextual "Saturday 4 October, 08:00-12:00 (be at check-in before 10:00)"
- ‚úÖ **Housing Address Release System**: Added housing_address_note field with "Exact housing address (Tilburg or Waalwijk) will be released Thursday 3 Oct"
- ‚úÖ **Travel Proof Helper Text**: Added travel_proof_requirement field with "Upload after booking. Ticket should arrive in NL before 09:00 on 4 Oct"
- ‚úÖ **Alternative Location Support**: Added arrival_location_alt field for dual-location support (Tilburg and Waalwijk addresses)
- ‚úÖ **DocHub Update Guide**: Created comprehensive documentation in `dochub_update_guide.md` with verification queries and rollback procedures
- ‚úÖ **Database Schema Enhancement**: See Database Schema section for new arrival_block and agency_block JSONB field structures

### Previous Updates (September 7, 2025)
- ‚úÖ **Critical Build Error Resolution**: Fixed syntax error (missing comma) in `src/utils/insertRoyalFloraJob.ts` that was blocking builds and deployments
- ‚úÖ **Structured Job Card UI Implementation**: Complete refactor of `JobCardPage.tsx` to display job details in organized sections ("What You'll Do Every Day", "Work Environment", "Contract & Benefits", etc.) instead of single notes block
- ‚úÖ **Database View Synchronization**: Created migration `update_job_cards_public_view.sql` to add structured fields to `job_cards_public` view, resolving "column does not exist" errors
- ‚úÖ **Comprehensive Data Display**: Updated job card queries to fetch ALL available fields from database, ensuring no information is left unshown
- ‚úÖ **Intelligent Data Fallback**: Implemented smart parsing of legacy `notes` field to populate structured sections when dedicated fields are empty
- ‚úÖ **Job Creation Script Updates**: Enhanced all job creation utilities to populate new structured fields (job_responsibilities, work_environment, contract_details, benefits_summary, etc.)

### Previous Updates (September 6, 2025)
- ‚úÖ **Enhanced phone number validation** - Strict 7-15 digit limits with real-time character filtering
- ‚úÖ **Country code selector** - Comprehensive list with manual entry option for unlisted countries
- ‚úÖ **Step 2 sub-steps** - Split personal details into 3 focused sub-steps for better UX
- ‚úÖ **Travel funds cost breakdown** - Detailed ‚Ç¨400-‚Ç¨600 preparation guide with weekly pay explanation
- ‚úÖ **Couples priority system** - Linked candidate applications with priority placement messaging
- ‚úÖ **Motivation testing** - Self-assessment for physical job requirements and resilience
- ‚úÖ **Enhanced database schema** - New fields for driving preferences, travel funds, and partner linking
- ‚úÖ **Improved validation rules** - Sub-step specific validation with real-time feedback
- ‚úÖ **Mobile UX optimization** - Better touch targets and simplified navigation between sub-steps

### Previous Updates (September 5, 2025)
- ‚úÖ **Travel Payout integration** - Affiliate tracking script for monetization opportunities
- ‚úÖ **Simplified CTA design** - Cleaner, mobile-optimized call-to-action following KISS principles
- ‚úÖ **Enhanced rejection screen** - Helpful next steps for non-EU qualified users
- ‚úÖ **Improved priority messaging** - Strategic placement of peak season and friend referral benefits
- ‚úÖ **Mobile UX optimization** - Better touch targets and simplified messaging
- ‚úÖ **Crisp Chat positioning** - Proper mobile positioning to avoid CTA overlap
- ‚úÖ **Enhanced legal documentation** - Updated Privacy Policy and Terms with complete Xolo Go O√ú details

### Major Architecture Updates (August 13-24, 2025)
- ‚úÖ **Xolo Go O√ú legal entity integration** - Complete legal documentation update
- ‚úÖ **EU eligibility pre-screening** - Added Step 0 qualification check
- ‚úÖ **Enhanced phone validation** - Real-time filtering and formatting
- ‚úÖ **File size display accuracy** - Proper bytes/KB/MB/GB formatting
- ‚úÖ **WhatsApp-first contact approach** - Primary contact method optimization
- ‚úÖ **Priority job guidance** - Most in-demand job type highlighting
- ‚úÖ **Webhook optimization** - Fixed triggering to only process completed forms
- ‚úÖ **Edge Function enhancement** - Smart filtering and data transformation
- ‚úÖ **Cookie consent implementation** - iOS-style GDPR compliance
- ‚úÖ **Mobile UX improvements** - Sticky CTA and responsive design
- ‚úÖ **Comprehensive debugging tools** - Database monitoring and form validation
- ‚úÖ **File upload system** - Secure CV and photo uploads with validation
- ‚úÖ **Privacy policy and terms** - GDPR-compliant legal pages
- ‚úÖ **SEO optimization** - Meta tags, structured data, and performance
- ‚úÖ **Analytics integration** - GDPR-compliant Google Analytics 4

## üóÇÔ∏è Known Issues & Roadmap

### Current Limitations
- **Multi-language Support**: Prepared but not implemented (Portuguese, Spanish planned)
- **PWA Icons**: Icon files for manifest need to be added for full PWA support
- **Advanced Job Matching**: Basic matching implemented, AI-powered matching planned
- **Real-time Notifications**: Push notifications for job alerts not implemented
- **Employer Dashboard**: Admin interface exists but employer self-service portal needed

### Technical Debt
- **Legacy Components**: Some components have legacy naming (LanguageSwitcher.tsx)
- **Migration Cleanup**: Old migration files could be consolidated
- **Type Definitions**: Some interfaces could be further refined
- **Error Boundaries**: Could be expanded for better error recovery

### Immediate Roadmap (Next 30 Days)
- [ ] **Verify Database Migration**: Ensure `update_job_cards_public_view.sql` is applied to production
- [ ] **Job Card Data Population**: Re-insert sample jobs with structured fields
- [ ] **Comprehensive Testing**: Full frontend testing of enhanced job card display
- [ ] **Admin Panel Enhancement**: Add structured field inputs to job creation forms
- [ ] **Performance Optimization**: Bundle size analysis and optimization
- [ ] **Mobile Testing**: Comprehensive mobile device testing across form flow

### Medium-term Roadmap (Next 90 Days)
- [ ] **Multi-language Implementation**: Portuguese and Spanish translations
- [ ] **Advanced Job Matching**: AI-powered candidate-job matching algorithms
- [ ] **Employer Dashboard**: Self-service portal for job posting and candidate management
- [ ] **Payment Integration**: Stripe integration for premium features
- [ ] **WhatsApp Business API**: Direct WhatsApp integration for candidate communication
- [ ] **Email Automation**: EmailOctopus integration for drip campaigns
- [ ] **Mobile App Development**: React Native apps for iOS and Android
- [ ] **Advanced Analytics**: Custom dashboard for business intelligence

### Long-term Vision (Next 12 Months)
- [ ] **AI-Powered Matching**: Machine learning for optimal candidate-job pairing
- [ ] **Blockchain Verification**: Credential verification via blockchain
- [ ] **Video Interviews**: Integrated video screening capabilities
- [ ] **Employer Network**: Expanded network across EU countries
- [ ] **Candidate Marketplace**: Premium features for enhanced visibility
- [ ] **Partnership Integrations**: Direct integrations with major employers
- [ ] **Compliance Automation**: Automated legal compliance checking
- [ ] **Advanced Reporting**: Business intelligence and predictive analytics

## üéØ Business Model & Revenue Streams

### Current Revenue Model
- **Lead Generation**: Commission-based payments from recruitment agencies
- **Affiliate Revenue**: Travel Payout integration for travel-related purchases
- **Premium Placements**: Priority listing for urgent job requirements

### Planned Revenue Streams
- **Subscription Tiers**: Premium features for candidates (priority placement, advanced matching)
- **Employer Services**: Direct job posting and candidate access for employers
- **Document Services**: CV optimization and translation services
- **Training Programs**: Pre-departure training and certification programs
- **Insurance Products**: Travel and work insurance affiliate partnerships

## üìû Contact & Support

### Primary Contact Channels
- **Email**: jobs@hiresignal.eu (primary business contact)
- **WhatsApp**: Primary candidate communication channel
- **Crisp Chat**: Website support chat (desktop only)
- **Legal Inquiries**: Via email with Xolo Go O√ú reference

### Operating Entity Details
- **Company**: Xolo Go O√ú ‚Äì Van Vo
- **Registry Code**: 14717109
- **EU VAT Number**: EE102156920
- **Registered Address**: Paju tn 1a, 50603 Tartu, Estonia
- **Jurisdiction**: European Union (Estonia)
- **GDPR Compliance**: Full compliance under EU law

### Development Team
- **Founder & Operator**: Van Vo
- **Technical Stack**: React + Supabase + Netlify
- **Design Philosophy**: Mobile-first, low-friction experience
- **Business Focus**: EU blue-collar recruitment with housing support

---

**Repository**: `hiresignal-intake-espt`
**Production URL**: https://hiresignal.eu
**Status**: Production Ready
**Version**: 1.0.0
**Last Updated**: October 17, 2025

## üîÑ Environment Variables Reference

### Required Variables
```bash
# Supabase Configuration (Critical)
VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key

# Application Environment
VITE_APP_ENV=development|production
VITE_APP_VERSION=1.0.0
```

### Optional Variables
```bash
# External Integrations
VITE_MAKE_WEBHOOK_URL=https://hook.eu2.make.com/your-webhook-url
VITE_GOOGLE_ANALYTICS_ID=G-0Z03WFVZRV

# Feature Flags
VITE_ENABLE_DEBUG=true|false
VITE_ENABLE_ANALYTICS=true|false
```

### Production Environment (Netlify)
```bash
VITE_SUPABASE_URL=https://esgnkkclyqozjewdllxh.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVzZ25ra2NseXFvempld2RsbHhoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1NjUyNzksImV4cCI6MjA3MDE0MTI3OX0.gkHIDrMeOFDQ1XPZpNZtfnAKRZZ4aRcZH0yvveXkQ0Y
VITE_APP_ENV=production
VITE_ENABLE_DEBUG=false
VITE_ENABLE_ANALYTICS=true
```

## üö® Critical System Dependencies

### Supabase Configuration
- **Project ID**: esgnkkclyqozjewdllxh
- **Region**: EU (GDPR compliance)
- **Database**: PostgreSQL with RLS enabled
- **Storage**: Enabled with public bucket access
- **Edge Functions**: Enabled with secrets management
- **Auth**: Email/password only (no magic links or social)

### Make.com Integration
- **Webhook URL**: Stored in Supabase secrets as `MAKE_WEBHOOK_URL`
- **Trigger Condition**: UPDATE events on candidates table when status='form_completed' AND form_step=5
- **Data Format**: JSON with flattened candidate data for Airtable compatibility
- **Error Handling**: Comprehensive logging in Edge Function for troubleshooting

### File Storage Buckets
- **candidate-cvs**: PDF files up to 30MB
- **candidate-photos**: JPG/PNG files up to 5MB  
- **job-assets**: Job images up to 10MB
- **Public Access**: Configured for secure public URL generation

This README serves as the complete blueprint for HireSignal, containing every detail necessary to rebuild, maintain, or enhance the application. No information has been omitted - this document captures the full system architecture, business logic, technical implementation, and operational procedures.